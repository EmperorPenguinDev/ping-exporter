# ping-exporter

## Installation

ping-exporter requires [Python2](https://www.python.org/downloads/release/python-2718/) v2.7.18 to run.

Steps:

```sh
useradd --no-create-home --shell /bin/false prometheus
useradd --no-create-home --shell /bin/false node_exporter
```

```sh
mkdir /etc/prometheus
mkdir /var/lib/prometheus
```

```sh
chown prometheus:prometheus /etc/prometheus
chown prometheus:prometheus /var/lib/prometheus
```

```sh
curl -LO https://github.com/prometheus/prometheus/releases/download/v2.32.1/prometheus-2.32.1.linux-amd64.tar.gz
tar xzvf prometheus-2.32.1.linux-amd64.tar.gz
```

```sh
cp prometheus-2.32.1.linux-amd64/prometheus /usr/local/bin
cp prometheus-2.32.1.linux-amd64/promtool /usr/local/bin
```

```sh
chown prometheus:prometheus /usr/local/bin/prometheus
chown prometheus:prometheus /usr/local/bin/promtool
```

```sh
cp -r prometheus-2.32.1.linux-amd64/consoles /etc/prometheus
cp -r prometheus-2.32.1.linux-amd64/console_libraries /etc/prometheus
```

```sh
chown -R prometheus:prometheus /etc/prometheus/consoles
chown -R prometheus:prometheus /etc/prometheus/console_libraries
```

```sh
mkdir /etc/prometheus
mkdir /var/lib/prometheus
```

```sh
nano /etc/prometheus/prometheus.yml
```

```sh
global:
  scrape_interval: 10s
scrape_configs:
  - job_name: 'prometheus'
    scrape_interval: 5s
    static_configs:
      - targets: ['172.18.43.4:9090']
  - job_name: 'ping-exporter01-enp1s0'
    scrape_interval: 60s
    metrics_path: /probe
    params:
         prot: ['4']
         source: ['192.168.1.4']
    static_configs:
      - targets:
          - 114.125.115.1
          - 114.125.160.129
          - 114.125.211.129
          - 114.125.80.129
          - 114.125.83.129
          - 184.51.41.1
          - 3.0.12.103
          - 13.251.196.36
          - 3.106.99.161
          - 54.66.138.194
          - 13.225.7.118
          - 13.225.7.208
          - 13.225.7.27
          - 13.225.7.47
          - 172.217.194.128
          - 74.125.24.128
          - 23.246.55.135
          - 23.246.55.145
          - 23.246.55.134
          - 182.2.0.1
          - 182.2.16.1
          - 114.125.64.3
          - 114.125.80.3
          - 114.125.96.3
          - 114.125.112.3
          - 114.122.64.1
          - 114.122.80.1
          - 114.122.96.1
          - 114.122.112.1
          - 114.122.128.1
          - 114.122.128.2
          - 114.122.160.1
          - 114.122.160.2
          - 182.2.64.1
          - 182.2.80.1
          - 182.2.32.1
          - 182.2.48.1
          - 114.122.192.1
          - 114.122.192.2
          - 182.2.96.1
          - 182.2.112.1
          - 114.122.224.1
          - 114.122.224.2
          - 114.125.128.1
          - 114.125.144.1
          - 182.2.192.1
          - 182.2.192.2
          - 114.125.193.33
          - 114.125.193.34
          - 114.125.160.3
          - 114.125.160.4
          - 182.2.224.1
          - 182.2.224.2
          - 114.122.32.1
          - 114.122.48.1
          - 182.3.96.1
          - 182.3.112.1
          - 182.3.64.1
          - 182.3.80.1
          - 182.3.0.1
          - 182.3.16.1
          - 114.122.0.1
          - 114.122.16.1
          - 114.127.255.34
          - 114.127.255.35
          - 114.122.64.1
          - 114.122.80.1
          - 114.125.224.1
          - 114.125.255.1
          - 114.125.0.11
          - 114.125.32.32
          - 114.125.0.10
          - 114.125.0.32
          - 114.122.96.1
          - 114.122.112.1
          - 114.127.255.6
          - 114.127.255.7
          - 114.127.255.11
          - 114.127.255.10
          - 114.127.255.12
          - 114.127.255.3
          - 114.127.255.4
          - 114.122.128.129
          - 114.125.161.65
          - 114.125.192.1
          - 114.125.193.65
          - 114.125.64.193
          - 114.125.65.1
          - 114.125.97.33
          - 114.120.192.193
          - 114.121.194.65
          - 114.120.225.1
          - 114.121.226.1
          - 114.124.160.1
          - 114.124.224.1
          - 114.124.160.65
          - 114.122.96.129
          - 114.125.240.1
          - 114.125.33.1
          - 114.125.1.129
    relabel_configs:
      - source_labels: [__address__]
        target_label: __param_target
        replacement: ${1}
      - source_labels: [__param_target]
        regex: (.*)
        target_label: instance
        replacement: ${1}
      - source_labels: []
        regex: .*
        target_label: __address__
        replacement: 172.18.43.4:8085
  - job_name: 'ping-exporter02-enp1s0'
    scrape_interval: 60s
    metrics_path: /probe
    params:
         prot: ['4']
         source: ['192.168.1.4']
    static_configs:
      - targets:
          - 114.125.33.161
          - 114.125.1.161
          - 114.125.2.1
          - 114.125.35.65
          - 114.122.0.129
          - 114.122.193.2
          - 114.125.163.185
          - 114.125.195.185
          - 114.125.67.185
          - 114.125.99.185
          - 114.124.160.225
          - 114.121.226.77
          - 114.122.97.65
          - 114.125.36.12
          - 114.125.240.198
          - 112.215.36.195
          - 103.10.66.230
          - 114.7.94.149
          - 69.171.250.174
          - 8.8.8.8
          - 208.67.222.222
          - 209.244.0.3
          - 218.100.36.2
          - 36.91.199.1
          - 103.28.74.129
          - 103.28.74.255
          - 103.28.75.0
          - 45.121.219.4
          - 103.30.172.129
          - 3.80.20.129
          - 114.125.193.134
          - 114.124.192.134
          - 54.211.225.214
          - 3.66.6.79
          - 18.167.118.95
          - 3.11.148.178
          - 3.139.202.55
          - 44.238.227.163
          - 15.165.222.192
          - 3.0.244.53
          - 3.106.157.98
          - 54.199.97.209
          - 35.182.199.219
          - 3.6.252.149
          - 52.47.33.67
          - 54.233.184.10
          - 13.49.236.136
          - 35.246.182.222
          - 34.92.104.29
          - 34.101.191.222
          - 35.197.248.76
          - 34.94.224.110
          - 34.64.94.43
          - 34.126.87.203
          - 35.237.56.242
          - 35.244.119.15
          - 34.84.213.52
          - 35.204.123.160
          - 34.76.15.98
          - 35.203.115.45
          - 34.95.141.113
          - 202.73.16.214
          - 202.73.16.213
          - 203.205.137.139
          - 203.205.137.62
          - 150.109.9.110
          - 203.205.254.235
          - 203.205.254.232
          - 203.205.233.25
          - 203.205.233.42
          - 150.109.9.202
          - 119.28.165.50
          - 162.62.158.12
          - 162.62.159.240
          - 162.62.158.13
          - 162.62.158.11
          - 162.62.159.25
          - 23.209.211.44
          - 203.205.137.232
          - 203.205.254.211
          - 203.205.233.24
          - 52.139.255.165
          - 52.230.56.35
          - 40.119.206.165
          - 40.119.207.253
          - 54.192.147.110
          - 54.192.147.63
          - 54.192.147.99
          - 54.192.147.46
          - 211.188.19.66
          - 13.86.249.25
          - 211.188.19.67
          - 13.35.13.12
          - 40.81.221.241
          - 13.35.13.71
          - 52.84.224.64
          - 40.81.217.233
          - 13.35.13.114
          - 52.84.224.119
          - 52.84.224.93
    relabel_configs:
      - source_labels: [__address__]
        target_label: __param_target
        replacement: ${1}
      - source_labels: [__param_target]
        regex: (.*)
        target_label: instance
        replacement: ${1}
      - source_labels: []
        regex: .*
        target_label: __address__
        replacement: 172.18.43.4:8085
  - job_name: 'ping-exporter03-enp1s0'
    scrape_interval: 60s
    metrics_path: /probe
    params:
         prot: ['4']
         source: ['192.168.1.4']
    static_configs:
      - targets:
          - 52.84.224.89
          - 150.109.9.110
          - 23.43.248.17
          - 150.109.9.202
          - 211.152.128.74
          - 211.152.128.78
          - 211.152.128.56
          - 211.152.128.77
          - 124.158.134.176
          - 124.158.134.171
          - 124.158.134.168
          - 114.124.227.115
          - 124.158.134.181
          - 124.158.134.175
          - 124.158.134.178
          - 124.158.134.177
          - 124.158.134.165
          - 124.156.202.147
          - 124.158.134.166
          - 124.158.134.170
          - 124.158.134.164
          - 114.124.227.88
          - 114.124.227.97
          - 114.125.80.179
          - 114.125.80.186
          - 114.122.98.49
          - 114.122.98.67
          - 34.117.193.226
          - 114.125.160.72
          - 114.125.160.176
          - 54.192.147.32
          - 54.192.147.78
          - 54.192.147.20
          - 54.192.147.85
          - 114.125.243.34
          - 114.125.243.41
          - 114.125.160.145
          - 114.125.16.9
          - 143.92.120.181
          - 143.92.120.241
          - 143.92.120.238
          - 54.192.118.55
          - 104.17.166.5
          - 104.17.165.5
          - 104.19.223.81
          - 104.19.222.81
          - 23.209.215.221
          - 104.17.142.21
          - 104.18.182.64
          - 104.16.200.67
          - 103.224.141.37
          - 13.227.254.67
          - 54.230.86.57
          - 104.17.143.21
          - 104.93.200.224
          - 13.224.224.36
          - 54.192.150.38
          - 203.217.134.220
          - 23.43.248.16
          - 114.120.225.154
          - 114.120.225.161
          - 114.120.225.160
          - 114.122.98.80
          - 114.125.115.42
          - 114.122.98.50
          - 114.120.225.136
          - 114.125.80.171
          - 114.125.115.17
          - 104.93.105.226
          - 114.124.227.121
          - 114.124.227.128
          - 104.69.169.98
          - 184.50.107.243
          - 184.87.224.28
          - 89.249.74.49
          - 89.249.74.41
          - 23.193.108.34
          - 114.125.115.67
          - 72.247.81.107
          - 72.247.81.130
          - 114.125.115.64
          - 114.125.211.136
          - 114.125.211.169
          - 114.125.2.147
          - 114.125.2.136
          - 23.195.48.42
          - 114.125.115.41
          - 52.69.100.17
          - 23.43.248.16
          - 117.121.250.156
          - 18.178.162.237
          - 52.197.154.135
          - 52.194.209.206
          - 54.199.100.53
          - 114.125.160.179
          - 35.73.34.117
          - 114.124.227.113
          - 54.192.119.53
          - 117.121.250.56
          - 114.125.115.42
    relabel_configs:
      - source_labels: [__address__]
        target_label: __param_target
        replacement: ${1}
      - source_labels: [__param_target]
        regex: (.*)
        target_label: instance
        replacement: ${1}
      - source_labels: []
        regex: .*
        target_label: __address__
        replacement: 172.18.43.4:8085
  - job_name: 'ping-exporter04-enp1s0'
    scrape_interval: 60s
    metrics_path: /probe
    params:
         prot: ['4']
         source: ['192.168.1.4']
    static_configs:
      - targets:
          - 54.192.118.66
          - 114.124.227.65
          - 114.125.115.24
          - 114.125.115.43
          - 114.125.160.138
          - 114.125.115.17
          - 114.125.115.16
          - 114.120.225.168
          - 180.250.81.47
          - 180.250.81.46
          - 114.124.227.56
          - 114.124.227.65
          - 211.152.128.78
          - 211.152.128.56
          - 211.152.128.74
          - 211.152.128.77
          - 114.120.225.160
          - 114.120.225.161
          - 114.125.115.11
          - 114.125.160.136
          - 114.125.115.35
          - 163.171.220.15
          - 114.125.160.162
          - 58.26.7.254
          - 114.125.115.8
          - 58.26.7.137
          - 114.125.115.41
          - 35.244.243.153
          - 114.124.227.136
          - 114.124.227.115
          - 101.32.112.160
          - 101.32.112.196
          - 101.32.112.226
          - 101.32.112.114
          - 114.125.115.72
          - 114.125.115.50
          - 114.122.98.74
          - 114.122.98.57
          - 114.124.227.57
          - 114.124.227.89
          - 114.125.211.144
          - 114.125.80.162
          - 114.125.211.139
          - 162.62.81.157
          - 162.62.80.158
          - 162.62.80.155
          - 23.209.199.231
          - 23.195.48.45
          - 216.52.53.13
          - 70.42.199.102
          - 216.52.53.70
          - 216.52.53.185
          - 216.52.53.135
          - 20.197.66.220
          - 216.52.53.172
          - 20.197.67.51
          - 216.52.53.134
          - 216.52.53.100
          - 216.52.53.107
          - 216.52.53.139
          - 96.17.189.51
          - 216.52.53.111
          - 20.43.176.87
          - 20.197.67.114
          - 216.52.53.220
          - 20.197.67.224
          - 180.250.81.46
          - 180.250.81.47
          - 180.250.169.18
          - 180.250.169.19
          - 180.250.169.82
          - 180.250.169.20
          - 81.199.98.46
          - 103.254.152.66
          - 81.199.98.42
          - 180.250.169.84
          - 103.150.223.4
          - 103.254.152.65
          - 81.199.98.45
          - 209.58.165.24
          - 202.180.17.41
          - 163.181.26.212
          - 103.245.120.228
          - 47.74.159.176
          - 103.147.213.226
          - 103.147.213.225
          - 103.147.213.228
          - 103.147.213.227
          - 103.147.213.230
          - 103.147.213.229
          - 103.147.213.231
          - 163.181.18.230
          - 103.147.213.224
          - 163.181.18.225
          - 103.120.247.227
          - 163.181.18.231
          - 163.181.18.229
          - 163.181.18.224
          - 163.181.18.226
          - 163.181.18.227
          - 52.80.169.96
          - 52.80.214.207
          - 52.80.201.249
          - 52.80.252.140
          - 54.223.251.221
          - 52.80.109.38
          - 34.120.12.184
          - 35.244.162.45
          - 3.81.254.193
          - 34.232.129.75
          - 35.227.247.227
          - 34.102.143.45
          - 203.107.33.10
          - 13.124.106.153
    relabel_configs:
      - source_labels: [__address__]
        target_label: __param_target
        replacement: ${1}
      - source_labels: [__param_target]
        regex: (.*)
        target_label: instance
        replacement: ${1}
      - source_labels: []
        regex: .*
        target_label: __address__
        replacement: 172.18.43.4:8085
  - job_name: 'ping-exporter05-enp1s0'
    scrape_interval: 60s
    metrics_path: /probe
    params:
         prot: ['4']
         source: ['192.168.1.4']
    static_configs:
      - targets:
          - facebook.com
          - youtube.com
          - speedtest.singnet.com.sg
          - hon.speedtest.interoute.net
          - jk-test1.jaist.ac.jp
          - seattle.speedtest.centurylink.net
          - speedtest1.vtn.com.vn
    relabel_configs:
      - source_labels: [__address__]
        target_label: __param_target
        replacement: ${1}
      - source_labels: [__param_target]
        regex: (.*)
        target_label: instance
        replacement: ${1}
      - source_labels: []
        regex: .*
        target_label: __address__
        replacement: 172.18.43.4:8085
  - job_name: 'ping-exporter06-enp1s0'
    scrape_interval: 60s
    metrics_path: /probe
    params:
         prot: ['6']
         source: ['192.168.1.4']
    static_configs:
      - targets:
          - 2404:c0:1000::b:6810:c843
          - 2404:c0:1000::b:6813:de51
          - 2404:c0:1000::b:6813:df51
          - 2404:c0:1000::b:685d:69e2
          - 2404:c0:1000::b:23f4:f399
          - 2404:c0:1000::b:2278:cb8
          - 2404:c0:1000::b:23f4:a22d
    relabel_configs:
      - source_labels: [__address__]
        target_label: __param_target
        replacement: ${1}
      - source_labels: [__param_target]
        regex: (.*)
        target_label: instance
        replacement: ${1}
      - source_labels: []
        regex: .*
        target_label: __address__
        replacement: 172.18.43.4:8085
  - job_name: 'ping-exporter01-enp2s0'
    scrape_interval: 60s
    metrics_path: /probe
    params:
         prot: ['4']
         source: ['172.18.43.4']
    static_configs:
      - targets:
          - 114.125.115.1
          - 114.125.160.129
          - 114.125.211.129
          - 114.125.80.129
          - 114.125.83.129
          - 184.51.41.1
          - 3.0.12.103
          - 13.251.196.36
          - 3.106.99.161
          - 54.66.138.194
          - 13.225.7.118
          - 13.225.7.208
          - 13.225.7.27
          - 13.225.7.47
          - 172.217.194.128
          - 74.125.24.128
          - 23.246.55.135
          - 23.246.55.145
          - 23.246.55.134
          - 182.2.0.1
          - 182.2.16.1
          - 114.125.64.3
          - 114.125.80.3
          - 114.125.96.3
          - 114.125.112.3
          - 114.122.64.1
          - 114.122.80.1
          - 114.122.96.1
          - 114.122.112.1
          - 114.122.128.1
          - 114.122.128.2
          - 114.122.160.1
          - 114.122.160.2
          - 182.2.64.1
          - 182.2.80.1
          - 182.2.32.1
          - 182.2.48.1
          - 114.122.192.1
          - 114.122.192.2
          - 182.2.96.1
          - 182.2.112.1
          - 114.122.224.1
          - 114.122.224.2
          - 114.125.128.1
          - 114.125.144.1
          - 182.2.192.1
          - 182.2.192.2
          - 114.125.193.33
          - 114.125.193.34
          - 114.125.160.3
          - 114.125.160.4
          - 182.2.224.1
          - 182.2.224.2
          - 114.122.32.1
          - 114.122.48.1
          - 182.3.96.1
          - 182.3.112.1
          - 182.3.64.1
          - 182.3.80.1
          - 182.3.0.1
          - 182.3.16.1
          - 114.122.0.1
          - 114.122.16.1
          - 114.127.255.34
          - 114.127.255.35
          - 114.122.64.1
          - 114.122.80.1
          - 114.125.224.1
          - 114.125.255.1
          - 114.125.0.11
          - 114.125.32.32
          - 114.125.0.10
          - 114.125.0.32
          - 114.122.96.1
          - 114.122.112.1
          - 114.127.255.6
          - 114.127.255.7
          - 114.127.255.11
          - 114.127.255.10
          - 114.127.255.12
          - 114.127.255.3
          - 114.127.255.4
          - 114.122.128.129
          - 114.125.161.65
          - 114.125.192.1
          - 114.125.193.65
          - 114.125.64.193
          - 114.125.65.1
          - 114.125.97.33
          - 114.120.192.193
          - 114.121.194.65
          - 114.120.225.1
          - 114.121.226.1
          - 114.124.160.1
          - 114.124.224.1
          - 114.124.160.65
          - 114.122.96.129
          - 114.125.240.1
          - 114.125.33.1
          - 114.125.1.129
    relabel_configs:
      - source_labels: [__address__]
        target_label: __param_target
        replacement: ${1}
      - source_labels: [__param_target]
        regex: (.*)
        target_label: instance
        replacement: ${1}
      - source_labels: []
        regex: .*
        target_label: __address__
        replacement: 172.18.43.4:8086
  - job_name: 'ping-exporter02-enp2s0'
    scrape_interval: 60s
    metrics_path: /probe
    params:
         prot: ['4']
         source: ['172.18.43.4']
    static_configs:
      - targets:
          - 114.125.33.161
          - 114.125.1.161
          - 114.125.2.1
          - 114.125.35.65
          - 114.122.0.129
          - 114.122.193.2
          - 114.125.163.185
          - 114.125.195.185
          - 114.125.67.185
          - 114.125.99.185
          - 114.124.160.225
          - 114.121.226.77
          - 114.122.97.65
          - 114.125.36.12
          - 114.125.240.198
          - 112.215.36.195
          - 103.10.66.230
          - 114.7.94.149
          - 69.171.250.174
          - 8.8.8.8
          - 208.67.222.222
          - 209.244.0.3
          - 218.100.36.2
          - 36.91.199.1
          - 103.28.74.129
          - 103.28.74.255
          - 103.28.75.0
          - 45.121.219.4
          - 103.30.172.129
          - 3.80.20.129
          - 114.125.193.134
          - 114.124.192.134
          - 54.211.225.214
          - 3.66.6.79
          - 18.167.118.95
          - 3.11.148.178
          - 3.139.202.55
          - 44.238.227.163
          - 15.165.222.192
          - 3.0.244.53
          - 3.106.157.98
          - 54.199.97.209
          - 35.182.199.219
          - 3.6.252.149
          - 52.47.33.67
          - 54.233.184.10
          - 13.49.236.136
          - 35.246.182.222
          - 34.92.104.29
          - 34.101.191.222
          - 35.197.248.76
          - 34.94.224.110
          - 34.64.94.43
          - 34.126.87.203
          - 35.237.56.242
          - 35.244.119.15
          - 34.84.213.52
          - 35.204.123.160
          - 34.76.15.98
          - 35.203.115.45
          - 34.95.141.113
          - 202.73.16.214
          - 202.73.16.213
          - 203.205.137.139
          - 203.205.137.62
          - 150.109.9.110
          - 203.205.254.235
          - 203.205.254.232
          - 203.205.233.25
          - 203.205.233.42
          - 150.109.9.202
          - 119.28.165.50
          - 162.62.158.12
          - 162.62.159.240
          - 162.62.158.13
          - 162.62.158.11
          - 162.62.159.25
          - 23.209.211.44
          - 203.205.137.232
          - 203.205.254.211
          - 203.205.233.24
          - 52.139.255.165
          - 52.230.56.35
          - 40.119.206.165
          - 40.119.207.253
          - 54.192.147.110
          - 54.192.147.63
          - 54.192.147.99
          - 54.192.147.46
          - 211.188.19.66
          - 13.86.249.25
          - 211.188.19.67
          - 13.35.13.12
          - 40.81.221.241
          - 13.35.13.71
          - 52.84.224.64
          - 40.81.217.233
          - 13.35.13.114
          - 52.84.224.119
          - 52.84.224.93
    relabel_configs:
      - source_labels: [__address__]
        target_label: __param_target
        replacement: ${1}
      - source_labels: [__param_target]
        regex: (.*)
        target_label: instance
        replacement: ${1}
      - source_labels: []
        regex: .*
        target_label: __address__
        replacement: 172.18.43.4:8086
  - job_name: 'ping-exporter03-enp2s0'
    scrape_interval: 60s
    metrics_path: /probe
    params:
         prot: ['4']
         source: ['172.18.43.4']
    static_configs:
      - targets:
          - 52.84.224.89
          - 150.109.9.110
          - 23.43.248.17
          - 150.109.9.202
          - 211.152.128.74
          - 211.152.128.78
          - 211.152.128.56
          - 211.152.128.77
          - 124.158.134.176
          - 124.158.134.171
          - 124.158.134.168
          - 114.124.227.115
          - 124.158.134.181
          - 124.158.134.175
          - 124.158.134.178
          - 124.158.134.177
          - 124.158.134.165
          - 124.156.202.147
          - 124.158.134.166
          - 124.158.134.170
          - 124.158.134.164
          - 114.124.227.88
          - 114.124.227.97
          - 114.125.80.179
          - 114.125.80.186
          - 114.122.98.49
          - 114.122.98.67
          - 34.117.193.226
          - 114.125.160.72
          - 114.125.160.176
          - 54.192.147.32
          - 54.192.147.78
          - 54.192.147.20
          - 54.192.147.85
          - 114.125.243.34
          - 114.125.243.41
          - 114.125.160.145
          - 114.125.16.9
          - 143.92.120.181
          - 143.92.120.241
          - 143.92.120.238
          - 54.192.118.55
          - 104.17.166.5
          - 104.17.165.5
          - 104.19.223.81
          - 104.19.222.81
          - 23.209.215.221
          - 104.17.142.21
          - 104.18.182.64
          - 104.16.200.67
          - 103.224.141.37
          - 13.227.254.67
          - 54.230.86.57
          - 104.17.143.21
          - 104.93.200.224
          - 13.224.224.36
          - 54.192.150.38
          - 203.217.134.220
          - 23.43.248.16
          - 114.120.225.154
          - 114.120.225.161
          - 114.120.225.160
          - 114.122.98.80
          - 114.125.115.42
          - 114.122.98.50
          - 114.120.225.136
          - 114.125.80.171
          - 114.125.115.17
          - 104.93.105.226
          - 114.124.227.121
          - 114.124.227.128
          - 104.69.169.98
          - 184.50.107.243
          - 184.87.224.28
          - 89.249.74.49
          - 89.249.74.41
          - 23.193.108.34
          - 114.125.115.67
          - 72.247.81.107
          - 72.247.81.130
          - 114.125.115.64
          - 114.125.211.136
          - 114.125.211.169
          - 114.125.2.147
          - 114.125.2.136
          - 23.195.48.42
          - 114.125.115.41
          - 52.69.100.17
          - 23.43.248.16
          - 117.121.250.156
          - 18.178.162.237
          - 52.197.154.135
          - 52.194.209.206
          - 54.199.100.53
          - 114.125.160.179
          - 35.73.34.117
          - 114.124.227.113
          - 54.192.119.53
          - 117.121.250.56
          - 114.125.115.42
    relabel_configs:
      - source_labels: [__address__]
        target_label: __param_target
        replacement: ${1}
      - source_labels: [__param_target]
        regex: (.*)
        target_label: instance
        replacement: ${1}
      - source_labels: []
        regex: .*
        target_label: __address__
        replacement: 172.18.43.4:8086
  - job_name: 'ping-exporter04-enp2s0'
    scrape_interval: 60s
    metrics_path: /probe
    params:
         prot: ['4']
         source: ['172.18.43.4']
    static_configs:
      - targets:
          - 54.192.118.66
          - 114.124.227.65
          - 114.125.115.24
          - 114.125.115.43
          - 114.125.160.138
          - 114.125.115.17
          - 114.125.115.16
          - 114.120.225.168
          - 180.250.81.47
          - 180.250.81.46
          - 114.124.227.56
          - 114.124.227.65
          - 211.152.128.78
          - 211.152.128.56
          - 211.152.128.74
          - 211.152.128.77
          - 114.120.225.160
          - 114.120.225.161
          - 114.125.115.11
          - 114.125.160.136
          - 114.125.115.35
          - 163.171.220.15
          - 114.125.160.162
          - 58.26.7.254
          - 114.125.115.8
          - 58.26.7.137
          - 114.125.115.41
          - 35.244.243.153
          - 114.124.227.136
          - 114.124.227.115
          - 101.32.112.160
          - 101.32.112.196
          - 101.32.112.226
          - 101.32.112.114
          - 114.125.115.72
          - 114.125.115.50
          - 114.122.98.74
          - 114.122.98.57
          - 114.124.227.57
          - 114.124.227.89
          - 114.125.211.144
          - 114.125.80.162
          - 114.125.211.139
          - 162.62.81.157
          - 162.62.80.158
          - 162.62.80.155
          - 23.209.199.231
          - 23.195.48.45
          - 216.52.53.13
          - 70.42.199.102
          - 216.52.53.70
          - 216.52.53.185
          - 216.52.53.135
          - 20.197.66.220
          - 216.52.53.172
          - 20.197.67.51
          - 216.52.53.134
          - 216.52.53.100
          - 216.52.53.107
          - 216.52.53.139
          - 96.17.189.51
          - 216.52.53.111
          - 20.43.176.87
          - 20.197.67.114
          - 216.52.53.220
          - 20.197.67.224
          - 180.250.81.46
          - 180.250.81.47
          - 180.250.169.18
          - 180.250.169.19
          - 180.250.169.82
          - 180.250.169.20
          - 81.199.98.46
          - 103.254.152.66
          - 81.199.98.42
          - 180.250.169.84
          - 103.150.223.4
          - 103.254.152.65
          - 81.199.98.45
          - 209.58.165.24
          - 202.180.17.41
          - 163.181.26.212
          - 103.245.120.228
          - 47.74.159.176
          - 103.147.213.226
          - 103.147.213.225
          - 103.147.213.228
          - 103.147.213.227
          - 103.147.213.230
          - 103.147.213.229
          - 103.147.213.231
          - 163.181.18.230
          - 103.147.213.224
          - 163.181.18.225
          - 103.120.247.227
          - 163.181.18.231
          - 163.181.18.229
          - 163.181.18.224
          - 163.181.18.226
          - 163.181.18.227
          - 52.80.169.96
          - 52.80.214.207
          - 52.80.201.249
          - 52.80.252.140
          - 54.223.251.221
          - 52.80.109.38
          - 34.120.12.184
          - 35.244.162.45
          - 3.81.254.193
          - 34.232.129.75
          - 35.227.247.227
          - 34.102.143.45
          - 203.107.33.10
          - 13.124.106.153
    relabel_configs:
      - source_labels: [__address__]
        target_label: __param_target
        replacement: ${1}
      - source_labels: [__param_target]
        regex: (.*)
        target_label: instance
        replacement: ${1}
      - source_labels: []
        regex: .*
        target_label: __address__
        replacement: 172.18.43.4:8086
  - job_name: 'ping-exporter05-enp2s0'
    scrape_interval: 60s
    metrics_path: /probe
    params:
         prot: ['4']
         source: ['172.18.43.4']
    static_configs:
      - targets:
          - facebook.com
          - youtube.com
          - speedtest.singnet.com.sg
          - hon.speedtest.interoute.net
          - jk-test1.jaist.ac.jp
          - seattle.speedtest.centurylink.net
          - speedtest1.vtn.com.vn
    relabel_configs:
      - source_labels: [__address__]
        target_label: __param_target
        replacement: ${1}
      - source_labels: [__param_target]
        regex: (.*)
        target_label: instance
        replacement: ${1}
      - source_labels: []
        regex: .*
        target_label: __address__
        replacement: 172.18.43.4:8086
  - job_name: 'ping-exporter06-enp2s0'
    scrape_interval: 60s
    metrics_path: /probe
    params:
         prot: ['6']
         source: ['172.18.43.4']
    static_configs:
      - targets:
          - 2404:c0:1000::b:6810:c843
          - 2404:c0:1000::b:6813:de51
          - 2404:c0:1000::b:6813:df51
          - 2404:c0:1000::b:685d:69e2
          - 2404:c0:1000::b:23f4:f399
          - 2404:c0:1000::b:2278:cb8
          - 2404:c0:1000::b:23f4:a22d
    relabel_configs:
      - source_labels: [__address__]
        target_label: __param_target
        replacement: ${1}
      - source_labels: [__param_target]
        regex: (.*)
        target_label: instance
        replacement: ${1}
      - source_labels: []
        regex: .*
        target_label: __address__
        replacement: 172.18.43.4:8086
```

```sh
chown prometheus:prometheus /etc/prometheus/prometheus.yml
```

```sh
nano /etc/systemd/system/prometheus.service
```

```sh
[Unit]
Description=Prometheus
Wants=network-online.target
After=network-online.target

[Service]
User=prometheus
Group=prometheus
Type=simple
ExecStart=/usr/local/bin/prometheus \
    --config.file /etc/prometheus/prometheus.yml \
    --storage.tsdb.path /var/lib/prometheus/ \
    --web.console.templates=/etc/prometheus/consoles \
    --web.console.libraries=/etc/prometheus/console_libraries

[Install]
WantedBy=multi-user.target  
```

```sh
systemctl daemon-reload
systemctl enable prometheus
systemctl start prometheus
systemctl status prometheus
```

```sh
mkdir /etc/prometheus
mkdir /var/lib/prometheus
```

```sh
mkdir /etc/prometheus
mkdir /var/lib/prometheus
```

```sh
mkdir /etc/prometheus
mkdir /var/lib/prometheus
```
